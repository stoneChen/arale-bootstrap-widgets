define("value/dialog/1.0.0/dialog",["$","gallery/bootstrap/3.2.0/bootstrap","./dialog-widget/dialog-widget","value/base/1.0.0/base","arale/templatable/0.9.2/templatable","gallery/handlebars/1.0.2/handlebars","arale/widget/1.1.1/widget","arale/base/1.1.1/base","arale/class/1.1.0/class","arale/events/1.1.0/events","./dialog-widget/dialog.handlebars"],function(a){"use strict";function b(){var a=e(i);return g.append(a),j.push(a),a}function c(a){var b=j.pop();b.modal("hide"),setTimeout(function(){a.destroy()},500)}var d,e=a("$");a("gallery/bootstrap/3.2.0/bootstrap");var f=a("./dialog-widget/dialog-widget"),g=e("body"),h={backdrop:"static",keyboard:!1},i=['<div class="modal fade">','<span class="vertical-alignment-helper"></span>',"</div>"].join(""),j=[],k=[{btnkey:"cancel",btnType:"default",btnText:"取消",action:function(){var a=this,b=this.get("cfg").cancel,c=b&&b.call(this);c!==!1&&d.close(a)}},{btnkey:"ok",btnType:"primary",btnText:"确定",action:function(){var a=this,b=this.get("cfg").action,c=b&&b.call(this);c!==!1&&d.close(a)}}];return d={close:function(a){c(a)},confirm:function(a){var d=new f({dialogType:"confirm",cfg:a,bottomBtns:a.bottomBtns||k,onClose:function(){var a=this.get("cfg").closeAction;a&&a.call(this),c(this)}}),e=b();return e.prepend(d.element),e.modal(h),d},complexBox:function(a){var d=new f({dialogType:"complexBox",cfg:a,bottomBtns:a.bottomBtns||k,afterSetup:function(){this.element.css("width",a.width),this.$(".modal-body").append(a.content),this.$(".modal-body").css("maxHeight",a.bodyMaxHeight)},onClose:function(){var a=this.get("cfg").closeAction;a&&a.call(this),c(this)}}),e=b();return e.prepend(d.element),e.modal(h),d},simpleBox:function(a){e.extend(a,{hasHeader:!1,hasBottomBtns:!1});var d=new f({dialogType:"simpleBox",cfg:a,afterSetup:function(){this.element.css("width",a.width),this.$(".modal-content").empty().append(a.content)},onClose:function(){var a=this.get("cfg").closeAction;a&&a.call(this),c(this)}}),g=b();return g.prepend(d.element),g.modal(h),d}}}),define("value/dialog/1.0.0/dialog-widget/dialog-widget",["$","value/base/1.0.0/base","arale/templatable/0.9.2/templatable","gallery/handlebars/1.0.2/handlebars","arale/widget/1.1.1/widget","arale/base/1.1.1/base","arale/class/1.1.0/class","arale/events/1.1.0/events"],function(a){"use strict";var b=a("$"),c=a("value/base/1.0.0/base"),d=a("value/dialog/1.0.0/dialog-widget/dialog.handlebars"),e=c.extend({attrs:{parentNode:null,template:d,model:{},dialogType:"",cfg:{title:"提示",content:"",hasHeader:!0,hasBottomBtns:!0},bottomBtns:[]},bottomBtnsObj:null,events:{"click .modal-footer button":function(a){var c=this,d=b(a.currentTarget),e=d.data("btnkey"),f=c.bottomBtnsObj[e];f&&f.action&&f.action.call(c,d)},"click .close":function(){this.close()}},initAttrs:function(a,b){e.superclass.initAttrs.call(this,a,b),this.setModel(),this._convertBtnsToObj()},setModel:function(){var a=this.get("model"),b=this.get("cfg");a.bottomBtns=this.get("bottomBtns"),a.title=b.title,a.hasHeader=b.hasHeader,a.hasBottomBtns=b.hasBottomBtns,"confirm"==this.get("dialogType")&&(a.content=b.content)},_convertBtnsToObj:function(){var a=this.get("bottomBtns"),b={};a&&a.forEach(function(a){b[a.btnkey]=a}),this.bottomBtnsObj=b},showMask:function(a){var b=this.$(".dialog-mask");a===!1?b.addClass("hide"):b.removeClass("hide")},close:function(){this.trigger("close")}});return e}),define("value/dialog/1.0.0/dialog-widget/dialog.handlebars",["gallery/handlebars/1.0.2/runtime"],function(a,b,c){var d=a("gallery/handlebars/1.0.2/runtime"),e=d.template;c.exports=e(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n        <div class="modal-header">\n            <button type="button" class="close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">',(d=c.title)?d=d.call(a,{hash:{},data:b}):(d=a.title,d=typeof d===l?d.apply(a):d),e+=m(d)+"</h4>\n        </div>\n        "}function g(a,b){var d,e="";return e+='\n        <div class="modal-footer">\n            ',d=c.each.call(a,a.bottomBtns,{hash:{},inverse:n.noop,fn:n.program(4,h,b),data:b}),(d||0===d)&&(e+=d),e+="\n        </div>\n        "}function h(a,b){var d,e="";return e+='\n            <button type="button" class="btn btn-',(d=c.btnType)?d=d.call(a,{hash:{},data:b}):(d=a.btnType,d=typeof d===l?d.apply(a):d),e+=m(d)+'" data-btnkey="',(d=c.btnkey)?d=d.call(a,{hash:{},data:b}):(d=a.btnkey,d=typeof d===l?d.apply(a):d),e+=m(d)+'">',(d=c.btnText)?d=d.call(a,{hash:{},data:b}):(d=a.btnText,d=typeof d===l?d.apply(a):d),e+=m(d)+"</button>\n            "}this.compilerInfo=[3,">= 1.0.0-rc.4"],c=c||{};for(var i in a.helpers)c[i]=c[i]||a.helpers[i];e=e||{};var j,k="",l="function",m=this.escapeExpression,n=this;return k+='<div class="modal-dialog">\n    <div class="modal-content">\n        ',j=c["if"].call(b,b.hasHeader,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&&(k+=j),k+='\n        <div class="modal-body">\n            ',(j=c.content)?j=j.call(b,{hash:{},data:e}):(j=b.content,j=typeof j===l?j.apply(b):j),k+=m(j)+"\n        </div>\n        ",j=c["if"].call(b,b.hasBottomBtns,{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&&(k+=j),k+='\n    </div>\n    <div class="dialog-mask hide"></div>\n</div>'})});
